# AIPIC 项目快速安装指南

## 步骤 1: 安装 Python

### 方法 A: 从官网安装（推荐）

1. **访问 Python 官网**
   - 打开浏览器访问：https://www.python.org/downloads/
   - 点击下载 Python 3.11 或 3.12（推荐 3.11）

2. **运行安装程序**
   - 双击下载的 `.exe` 文件
   - **重要**：勾选 ✅ **"Add Python to PATH"**
   - 点击 "Install Now"
   - 等待安装完成

3. **验证安装**
   - 打开新的 PowerShell 窗口
   - 运行：`python --version`
   - 应该显示：`Python 3.11.x` 或类似版本

### 方法 B: 使用 Microsoft Store（简单但可能有限制）

1. 打开 Microsoft Store
2. 搜索 "Python 3.11"
3. 点击安装
4. 安装完成后，Python 会自动添加到 PATH

## 步骤 2: 配置项目

### 自动配置（推荐）

运行提供的配置脚本：

```powershell
.\setup-python.ps1
```

### 手动配置

如果自动配置失败，可以手动配置：

```powershell
cd C:\NeilData\AIPIC\aipic-web\server

# 设置 Python 路径（根据实际安装位置修改）
$env:PYTHON = "C:\Users\$env:USERNAME\AppData\Local\Programs\Python\Python311\python.exe"

# 配置 npm
npm config set python $env:PYTHON
```

## 步骤 3: 安装依赖

```powershell
cd C:\NeilData\AIPIC\aipic-web\server
npm install
```

如果遇到错误，确保：
- Python 已正确安装
- Python 已添加到 PATH
- 已运行配置脚本

## 步骤 4: 启动服务器

### 启动后端服务器

```powershell
cd C:\NeilData\AIPIC\aipic-web\server
npm run dev
```

后端将在 `http://localhost:3001` 启动

### 启动前端服务器（新终端窗口）

```powershell
cd C:\NeilData\AIPIC\aipic-web
npm run dev
```

前端将在 `http://localhost:5173` 启动

## 验证安装

### 检查后端
```powershell
Invoke-WebRequest -Uri http://localhost:3001/health
```

### 检查前端
打开浏览器访问：http://localhost:5173

## 常见问题

### Q: Python 安装后仍然找不到
A: 
1. 确保勾选了 "Add Python to PATH"
2. 重启 PowerShell 窗口
3. 运行 `python --version` 验证
4. 如果仍不行，手动运行配置脚本

### Q: npm install 仍然失败
A:
1. 检查 Python 版本：`python --version`（需要 3.6+）
2. 运行配置脚本：`.\setup-python.ps1`
3. 清除缓存：`npm cache clean --force`
4. 重新安装：`npm install`

### Q: 端口被占用
A:
```powershell
# 查找占用端口的进程
Get-NetTCPConnection -LocalPort 3001

# 停止进程（替换 <PID> 为实际进程ID）
Stop-Process -Id <PID>
```

## 下一步

安装完成后：
1. 启动后端和前端服务器
2. 访问前端界面
3. 初始化 Owner 账户
4. 测试照片导入功能

